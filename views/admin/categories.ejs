<% include header.ejs %>
  <div class="container">
    <h4 class="center-align">CATEGORIES LIST</h4>
    <div id="categories">
      <div class="row">
        <a class="btn waves-effect waves-light brown" id="addcategory"><i class="material-icons left">add</i>Add Category</a>
      </div>
      <div class="row">
        <% if (categories === null) { %>
          <p class="flow-text center-align"> You have not created any category, click the button above to create one </p>
        <% } else { %>
        <% for (key in categories) { %>
          <div class="col s12 m3">
          <div class="card small blue-grey darken-1">
            <div class="card-content white-text">
              <span class="card-title"><%= categories[key].name.substring(0, 15) %> ...</span>
              <p><%= categories[key].description.substring(0, 40) %> ...</p>
            </div>
            <div class="card-action">
              <a href="/admin/category/<%= categories[key].name %>">Edit this category</a>
              <a href="/admin/deletecategory/<%= categories[key].name %>">Delete this category</a>
            </div>
          </div>
        </div>
        <% }} %>
      </div>
    </div>
    <div id="categoryform" class="hidden form-div z-depth-2">
    <h3 class="center-align">Create a Category</h3>
    <% if (typeof(message) !== 'undefined' ) { %>
    <p class="error"><%= message %></p>
    <% } %>
    <form class="col s12" action="/admin/addcategory" method="POST">
      <div class="row">
        <div class="input-field col s12">
          <input id="name" type="text" name="name" class="validate">
          <label for="name">Category</label>
        </div>
      </div><! -- category name -->
      <div class="row">
        <div class="input-field col s12">
          <textarea class="materialize-textarea" id="description" name="description" class="validate" placeholder="enter a brief description for this category"></textarea>
          <label for="description">Description</label>
        </div>
      </div><! --category description -->
      <div class="row">
        <div class="center">
          <button class="btn waves-effect waves-light" id="login" type="submit" name="action">Submit
            <i class="material-icons right">send</i>
          </button>
          <a class="btn-flat disabled" id="backcategory">Go Back
            <i class="material-icons right">return</i>
          </a>
        </div><! -- Button Div -->
      </div>
    </form>
  </div>
  </div>
<% include footer.ejs %>